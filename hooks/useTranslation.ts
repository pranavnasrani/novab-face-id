

import React, { createContext, useState, useContext, ReactNode, useEffect, PropsWithChildren } from 'react';

const translations = {
  en: {
    // Welcome/Onboarding
    carouselTitle1: "Grow your money",
    carouselTitle2: "Banking done fast",
    carouselTitle3: "Keep money secure",
    carouselTitle4: "Nova AI, your financial companion",
    getStarted: "Get Started",
    logIn: "Log In",
    // Login
    appName: "Nova Bank",
    appSubtitle: "Your AI-Powered Bank",
    createAccount: "Create Your Account",
    fullName: "Full Name",
    fullNamePlaceholder: "e.g., Jane Doe",
    username: "Username",
    usernamePlaceholder: "e.g., jane",
    usernamePlaceholderLogin: "e.g., alice",
    pin: "4-Digit PIN",
    pinError: "PIN must be a 4-digit number.",
    password: "Password",
    emailPlaceholder: "e.g., jane.doe@email.com",
    phonePlaceholder: "e.g., 202-555-0181",
    welcomeBack: "Welcome Back",
    signIn: "Sign In",
    loginError: "Invalid username or password. Please try again.",
    registerError: "Please fill all required fields correctly.",
    registerErrorUsernameTaken: "Username already taken. Please choose another.",
    // Dashboard & Nav
    navHome: "Home",
    navCards: "Cards",
    navLoans: "Loans",
    navInsights: "Insights",
    navSettings: "Settings",
    openAIAssistant: "Open AI Assistant",
    applyForNew: "Apply for a new {{type}}",
    // Home Screen
    totalBalance: "Total Balance",
    recentActivity: "Recent Activity",
    vs: "vs.",
    noTransactions: "No transactions yet.",
    primaryCard: "Primary Card",
    savings: "Savings",
    investments: "Investments",
    cards: "Cards",
    loans: "Loans",
    spendingThisMonth: "Spending Last 30 Days",
    // Cards Screen
    yourCards: "Your Cards",
    viewSummary: "View Summary",
    transactionHistory: "Transaction History",
    last7Days: "Last 7 Days",
    last30Days: "Last 30 Days",
    thisMonth: "This Month",
    noTransactionsPeriod: "No transactions found for this period.",
    creditUsage: "Credit Usage",
    // Data Screen (Shared)
    dataAnalytics: "Data Analytics",
    noSpendingData: "No spending data available for this month.",
    // Loans Screen
    yourLoans: "Your Loans",
    forTerm: "for",
    months: "months",
    monthlyPayment: "Monthly Payment",
    remaining: "Remaining",
    nextPayment: "Next payment",
    noActiveLoans: "No active loans.",
    applyForLoanHint: "Apply for one using the button in the corner!",
    // Settings Screen
    language: "Language",
    signOut: "Sign Out",
    // Chat Modal
    aiAssistant: "Nova AI",
    chatGreeting: "Hi {{name}}! How can I help?",
    chatError: "Sorry, I encountered an error. Please try again.",
    listening: "Listening...",
    askNova: "Ask Nova anything...",
    takePhoto: "Take Photo",
    uploadImage: "Upload Image",
    analyzingImage: "Analyzing image...",
    ocrSuccess: "Extracted from image: Paying {{amount}} to {{recipient}}. Initiating transfer...",
    ocrFailed: "Could not extract recipient and account details from the image. Please enter them manually.",
    ocrError: "Sorry, an error occurred while analyzing the image. Please try again.",
    ocrPaymentPrompt: "Pay {{amount}} to {{recipient}}",
    suggestivePromptsTitle: "Try asking...",
    prompt1: "How much did I spend on groceries this month?",
    prompt2: "Can I get an extension on my credit card bill?",
    prompt3: "What's my current account balance?",
    prompt4: "Transfer $50 to Alice",
    voiceMode: "Voice Mode",
    connecting: "Connecting...",
    speakNow: "Speak now...",
    processing: "Processing...",
    pressToTalk: "Press and hold to speak",
    voiceError: "Could not start voice mode. Please try again.",
    micAccessDenied: "Microphone access denied. Please enable it in browser settings to use voice mode.",
    // Application Modal
    newApplication: "New {{type}} Application",
    pleaseNote: "Please Note:",
    repAPR: "Representative APR",
    cardAPRNote: "15.0% - 30.0% variable. Your actual rate is determined based on your application and credit history.",
    cardType: "Card Type",
    interestRates: "Interest Rates",
    loanAPRNote: "From 3.0% - 13.0% APR. Your actual rate will depend on the loan amount, term, and your application details.",
    address: "Full Residential Address",
    addressPlaceholder: "e.g., 123 Main St, Anytown, USA",
    dateOfBirth: "Date of Birth",
    employmentStatus: "Employment Status",
    employed: "Employed",
    selfEmployed: "Self-Employed",
    unemployed: "Unemployed",
    student: "Student",
    employer: "Employer",
    employerPlaceholder: "Name of your company",
    annualIncome: "Annual Income (USD)",
    loanAmount: "Loan Amount (USD)",
    loanTerm: "Loan Term",
    submitting: "Submitting...",
    submitApplication: "Submit Application",
    approved: "Approved!",
    applicationDenied: "Application Denied",
    close: "Close",
    // Statement Summary Modal
    statementSummary: "Statement Summary",
    forCardEndingIn: "For card ending in",
    statementBalance: "Statement Balance",
    minimumPaymentDue: "Minimum Payment Due",
    paymentDueDate: "Payment Due Date",
    importantInformation: "Important Information",
    lateFeeWarning: "To avoid a late fee of up to $40 and a penalty APR, please pay at least the minimum amount by the due date.",
    gotIt: "Got it",
    // Passkeys
    signInWithPasskey: "Sign In with a Passkey",
    createPasskeyForFasterSignIn: "Create a passkey for faster sign-in",
    authenticating: "Authenticating...",
    passkeys: "Passkeys",
    passkey: "Passkey",
    passkeyDescription: "Use passkeys for a faster, more secure sign-in experience without needing a password.",
    addPasskey: "Add a passkey",
    remove: "Remove",
    createdOn: "Created on",
    noPasskeys: "No passkeys registered for this account.",
    passkeyLoginFailed: "Passkey login failed.",
    passkeyConfirmationRequired: "Confirmation required for '{{action}}'. Please use your passkey to proceed.",
    actionCancelled: "Action cancelled.",
    // Insights Screen
    aiPoweredInsights: "AI-Powered Insights",
    aiInsightsDescription: "Discover patterns in your spending and get personalized financial advice from Nova.",
    subscriptionTracker: "Subscription Tracker",
    aiAnalyzingSpending: "AI is analyzing your spending...",
    aiAnalyzingSubscriptions: "AI is analyzing your transactions for recurring payments...",
    noSubscriptionsFound: "No recurring subscriptions found in your recent transactions.",
    monthly: "monthly",
    spendingBreakdown: "Spending Breakdown",
    spendingTrends: "Spending Trends",
    cashFlowForecast: "Cash Flow Forecast",
    savingOpportunities: "Saving Opportunities",
    spendingVsLastMonth: "Overall spending vs. last month",
    notEnoughData: "Not Enough Data",
    notEnoughDataDescription: "Use your account for a few more transactions and check back for your personalized insights.",
  },
  es: {
    // Welcome/Onboarding
    carouselTitle1: "Haz crecer tu dinero",
    carouselTitle2: "Banca rápida y eficiente",
    carouselTitle3: "Mantén tu dinero seguro",
    carouselTitle4: "Nova AI, tu compañero financiero",
    getStarted: "Comenzar",
    logIn: "Iniciar Sesión",
    // Login
    appName: "Nova Banco IA",
    appSubtitle: "Tu Socio Financiero con IA",
    createAccount: "Crea Tu Cuenta",
    fullName: "Nombre Completo",
    fullNamePlaceholder: "p. ej., María García",
    username: "Usuario",
    usernamePlaceholder: "p. ej., maria",
    usernamePlaceholderLogin: "p. ej., alice",
    pin: "PIN de 4 dígitos",
    pinError: "El PIN debe ser un número de 4 dígitos.",
    password: "Contraseña",
    emailPlaceholder: "p. ej., maria.garcia@email.com",
    phonePlaceholder: "p. ej., 55-1234-5678",
    welcomeBack: "Bienvenido de nuevo",
    signIn: "Iniciar Sesión",
    loginError: "Usuario o contraseña inválido. Por favor, inténtalo de nuevo.",
    registerError: "Por favor, completa todos los campos correctamente.",
    registerErrorUsernameTaken: "El nombre de usuario ya está en uso. Por favor, elige otro.",
    // Dashboard & Nav
    navHome: "Inicio",
    navCards: "Tarjetas",
    navLoans: "Préstamos",
    navInsights: "Análisis",
    navSettings: "Ajustes",
    openAIAssistant: "Abrir Asistente de IA",
    applyForNew: "Solicitar nuevo {{type}}",
    // Home Screen
    totalBalance: "Balance Total",
    recentActivity: "Actividad Reciente",
    vs: "vs.",
    noTransactions: "Aún no hay transacciones.",
    primaryCard: "Tarjeta Principal",
    savings: "Ahorros",
    investments: "Inversiones",
    cards: "Tarjetas",
    loans: "Préstamos",
    spendingThisMonth: "Gastos de los últimos 30 días",
    // Cards Screen
    yourCards: "Tus Tarjetas",
    viewSummary: "Ver Resumen",
    transactionHistory: "Historial de Transacciones",
    last7Days: "Últimos 7 Días",
    last30Days: "Últimos 30 Días",
    thisMonth: "Este Mes",
    noTransactionsPeriod: "No se encontraron transacciones para este período.",
    creditUsage: "Uso de Crédito",
    // Data Screen
    dataAnalytics: "Análisis de Datos",
    noSpendingData: "No hay datos de gastos disponibles para este mes.",
    // Loans Screen
    yourLoans: "Tus Préstamos",
    forTerm: "por",
    months: "meses",
    monthlyPayment: "Pago Mensual",
    remaining: "Restante",
    nextPayment: "Próximo pago",
    noActiveLoans: "No hay préstamos activos.",
    applyForLoanHint: "¡Solicita uno usando el botón en la esquina!",
    // Settings Screen
    language: "Idioma",
    signOut: "Cerrar Sesión",
    // Chat Modal
    aiAssistant: "Nova AI",
    chatGreeting: "¡Hola {{name}}! ¿Cómo puedo ayudarte?",
    chatError: "Lo siento, encontré un error. Por favor, inténtalo de nuevo.",
    listening: "Escuchando...",
    askNova: "Pregúntale a Nova lo que sea...",
    takePhoto: "Tomar Foto",
    uploadImage: "Subir Imagen",
    analyzingImage: "Analizando imagen...",
    ocrSuccess: "Extraído de la imagen: Pagando {{amount}} a {{recipient}}. Iniciando transferencia...",
    ocrFailed: "No se pudieron extraer los detalles del destinatario y la cuenta de la imagen. Ingréselos manually.",
    ocrError: "Lo siento, ocurrió un error al analizar la imagen. Inténtalo de nuevo.",
    ocrPaymentPrompt: "Pagar {{amount}} a {{recipient}}",
    suggestivePromptsTitle: "Intenta preguntar...",
    prompt1: "¿Cuánto gasté en comestibles este mes?",
    prompt2: "¿Puedo obtener una extensión en la factura de mi tarjeta de crédito?",
    prompt3: "¿Cuál es el saldo actual de mi cuenta?",
    prompt4: "Transferir $50 a Alice",
    voiceMode: "Modo de Voz",
    connecting: "Conectando...",
    speakNow: "Habla ahora...",
    processing: "Procesando...",
    pressToTalk: "Mantén presionado para hablar",
    voiceError: "No se pudo iniciar el modo de voz. Por favor, inténtalo de nuevo.",
    micAccessDenied: "Acceso al micrófono denegado. Habilítalo en la configuración de tu navegador para usar el modo de voz.",
    // Application Modal
    newApplication: "Nueva Solicitud de {{type}}",
    pleaseNote: "Por Favor, Ten en Cuenta:",
    repAPR: "TAE Representativa",
    cardAPRNote: "15.0% - 30.0% variable. Tu tasa real se determina según tu solicitud e historial crediticio.",
    cardType: "Tipo de Tarjeta",
    interestRates: "Tasas de Interés",
    loanAPRNote: "Desde 3.0% - 13.0% TAE. Tu tasa real dependerá del monto del préstamo, el plazo y los detalles de tu solicitud.",
    address: "Dirección Residencial Completa",
    addressPlaceholder: "p. ej., Calle Principal 123, Ciudad, País",
    dateOfBirth: "Fecha de Nacimiento",
    employmentStatus: "Estado Laboral",
    employed: "Empleado",
    selfEmployed: "Autónomo",
    unemployed: "Desempleado",
    student: "Estudiante",
    employer: "Empleador",
    employerPlaceholder: "Nombre de tu empresa",
    annualIncome: "Ingresos Anuales (USD)",
    loanAmount: "Monto del Préstamo (USD)",
    loanTerm: "Plazo del Préstamo",
    submitting: "Enviando...",
    submitApplication: "Enviar Solicitud",
    approved: "¡Aprobada!",
    applicationDenied: "Solicitud Denegada",
    close: "Cerrar",
    // Statement Summary Modal
    statementSummary: "Resumen de Estado de Cuenta",
    forCardEndingIn: "Para tarjeta que termina en",
    statementBalance: "Saldo del Estado de Cuenta",
    minimumPaymentDue: "Pago Mínimo a Realizar",
    paymentDueDate: "Fecha de Vencimiento del Pago",
    importantInformation: "Información Importante",
    lateFeeWarning: "Para evitar un cargo por pago atrasado de hasta $40 y una TAE de penalización, por favor paga al menos el monto mínimo antes de la fecha de vencimiento.",
    gotIt: "Entendido",
    // Passkeys
    signInWithPasskey: "Iniciar sesión con una passkey",
    createPasskeyForFasterSignIn: "Crear una passkey para iniciar sesión más rápido",
    authenticating: "Autenticando...",
    passkeys: "Passkeys",
    passkey: "Passkey",
    passkeyDescription: "Usa passkeys para una experiencia de inicio de sesión más rápida y segura sin necesidad de una contraseña.",
    addPasskey: "Añadir una passkey",
    remove: "Eliminar",
    createdOn: "Creada el",
    noPasskeys: "No hay passkeys registradas para esta cuenta.",
    passkeyLoginFailed: "Falló el inicio de sesión con passkey.",
    passkeyConfirmationRequired: "Se requiere confirmación para '{{action}}'. Por favor, usa tu passkey para continuar.",
    actionCancelled: "Acción cancelada.",
    // Insights Screen
    aiPoweredInsights: "Análisis con IA",
    aiInsightsDescription: "Descubre patrones en tus gastos y obtén consejos financieros personalizados de Nova.",
    subscriptionTracker: "Rastreador de Suscripciones",
    aiAnalyzingSpending: "La IA está analizando tus gastos...",
    aiAnalyzingSubscriptions: "La IA está analizando tus transacciones en busca de pagos recurrentes...",
    noSubscriptionsFound: "No se encontraron suscripciones recurrentes en tus transacciones recientes.",
    monthly: "mensual",
    spendingBreakdown: "Desglose de Gastos",
    spendingTrends: "Tendencias de Gasto",
    cashFlowForecast: "Pronóstico de Flujo de Caja",
    savingOpportunities: "Oportunidades de Ahorro",
    spendingVsLastMonth: "Gasto total vs. el mes pasado",
    notEnoughData: "No Hay Datos Suficientes",
    notEnoughDataDescription: "Usa tu cuenta para algunas transacciones más y vuelve a consultar tus análisis personalizados.",
  },
  th: {
    // Welcome/Onboarding
    carouselTitle1: "เพิ่มพูนเงินของคุณ",
    carouselTitle2: "ธนาคารที่รวดเร็ว",
    carouselTitle3: "รักษาเงินให้ปลอดภัย",
    carouselTitle4: "Nova AI, เพื่อนคู่คิดทางการเงินของคุณ",
    getStarted: "เริ่มต้นใช้งาน",
    logIn: "เข้าสู่ระบบ",
    // Login
    appName: "Nova Bank AI",
    appSubtitle: "พันธมิตรทางการเงินที่ขับเคลื่อนด้วย AI ของคุณ",
    createAccount: "สร้างบัญชีของคุณ",
    fullName: "ชื่อเต็ม",
    fullNamePlaceholder: "เช่น สมหญิง ใจดี",
    username: "ชื่อผู้ใช้",
    usernamePlaceholder: "เช่น somying",
    usernamePlaceholderLogin: "เช่น alice",
    pin: "PIN 4 หลัก",
    pinError: "PIN ต้องเป็นตัวเลข 4 หลัก",
    password: "รหัสผ่าน",
    emailPlaceholder: "เช่น somying.jaidee@email.com",
    phonePlaceholder: "เช่น 081-234-5678",
    welcomeBack: "ยินดีต้อนรับกลับ",
    signIn: "เข้าสู่ระบบ",
    loginError: "ชื่อผู้ใช้หรือรหัสผ่านไม่ถูกต้อง กรุณาลองใหม่",
    registerError: "กรุณากรอกข้อมูลที่จำเป็นทั้งหมดให้ถูกต้อง",
    registerErrorUsernameTaken: "ชื่อผู้ใช้นี้มีคนใช้แล้ว กรุณาเลือกชื่ออื่น",
    navHome: "หน้าแรก",
    navCards: "บัตร",
    navLoans: "สินเชื่อ",
    navInsights: "ข้อมูลเชิงลึก",
    navSettings: "ตั้งค่า",
    openAIAssistant: "เปิดผู้ช่วย AI",
    applyForNew: "สมัคร {{type}} ใหม่",
    totalBalance: "ยอดเงินรวม",
    recentActivity: "กิจกรรมล่าสุด",
    vs: "เทียบกับ",
    noTransactions: "ยังไม่มีธุรกรรม",
    primaryCard: "บัตรหลัก",
    savings: "เงินออม",
    investments: "การลงทุน",
    cards: "บัตร",
    loans: "สินเชื่อ",
    spendingThisMonth: "ค่าใช้จ่าย 30 วันล่าสุด",
    yourCards: "บัตรของคุณ",
    viewSummary: "ดูสรุป",
    transactionHistory: "ประวัติธุรกรรม",
    last7Days: "7 วันล่าสุด",
    last30Days: "30 วันล่าสุด",
    thisMonth: "เดือนนี้",
    noTransactionsPeriod: "ไม่พบธุรกรรมในช่วงเวลานี้",
    creditUsage: "การใช้วงเงินสินเชื่อ",
    dataAnalytics: "การวิเคราะห์ข้อมูล",
    noSpendingData: "ไม่มีข้อมูลค่าใช้จ่ายสำหรับเดือนนี้",
    yourLoans: "สินเชื่อของคุณ",
    forTerm: "เป็นเวลา",
    months: "เดือน",
    monthlyPayment: "ผ่อนชำระรายเดือน",
    remaining: "คงเหลือ",
    nextPayment: "ชำระครั้งถัดไป",
    noActiveLoans: "ไม่มีสินเชื่อที่ใช้งานอยู่",
    applyForLoanHint: "สมัครสินเชื่อโดยใช้ปุ่มที่มุม!",
    language: "ภาษา",
    signOut: "ออกจากระบบ",
    aiAssistant: "Nova AI",
    chatGreeting: "สวัสดี {{name}}! มีอะไรให้ช่วยไหม?",
    chatError: "ขออภัย เกิดข้อผิดพลาด กรุณาลองใหม่",
    listening: "กำลังฟัง...",
    askNova: "ถาม Nova ได้ทุกเรื่อง...",
    takePhoto: "ถ่ายรูป",
    uploadImage: "อัปโหลดรูปภาพ",
    analyzingImage: "กำลังวิเคราะห์รูปภาพ...",
    ocrSuccess: "ดึงข้อมูลจากรูปภาพ: กำลังชำระเงิน {{amount}} ให้กับ {{recipient}} กำลังเริ่มต้นการโอน...",
    ocrFailed: "ไม่สามารถดึงรายละเอียดผู้รับและบัญชีจากรูปภาพได้ กรุณากรอกด้วยตนเอง",
    ocrError: "ขออภัย เกิดข้อผิดพลาดขณะวิเคราะห์รูปภาพ กรุณาลองใหม่",
    ocrPaymentPrompt: "ชำระ {{amount}} ให้กับ {{recipient}}",
    suggestivePromptsTitle: "ลองถาม...",
    prompt1: "เดือนนี้ฉันใช้จ่ายค่าของชำไปเท่าไหร่",
    prompt2: "ฉันขอขยายเวลาชำระบิลบัตรเครดิตได้ไหม",
    prompt3: "ยอดเงินในบัญชีปัจจุบันของฉันคือเท่าไหร่",
    prompt4: "โอนเงิน 50 ดอลลาร์ให้ Alice",
    voiceMode: "โหมดเสียง",
    connecting: "กำลังเชื่อมต่อ...",
    speakNow: "พูดเลย...",
    processing: "กำลังประมวลผล...",
    pressToTalk: "กดค้างไว้เพื่อพูด",
    voiceError: "ไม่สามารถเริ่มโหมดเสียงได้ กรุณาลองใหม่",
    micAccessDenied: "การเข้าถึงไมโครโฟนถูกปฏิเสธ กรุณาเปิดใช้งานในการตั้งค่าเบราว์เซอร์เพื่อใช้โหมดเสียง",
    newApplication: "ใบสมัคร {{type}} ใหม่",
    pleaseNote: "โปรดทราบ:",
    repAPR: "APR ตัวแทน",
    cardAPRNote: "15.0% - 30.0% (ตัวแปร) อัตราจริงของคุณจะพิจารณาจากใบสมัครและประวัติเครดิตของคุณ",
    cardType: "ประเภทบัตร",
    interestRates: "อัตราดอกเบี้ย",
    loanAPRNote: "ตั้งแต่ 3.0% - 13.0% APR อัตราจริงของคุณจะขึ้นอยู่กับจำนวนเงินกู้ ระยะเวลา และรายละเอียดใบสมัครของคุณ",
    address: "ที่อยู่ปัจจุบัน",
    addressPlaceholder: "เช่น 123 ถ.สุขุมวิท, กรุงเทพฯ",
    dateOfBirth: "วันเกิด",
    employmentStatus: "สถานะการจ้างงาน",
    employed: "มีงานทำ",
    selfEmployed: "ประกอบอาชีพอิสระ",
    unemployed: "ว่างงาน",
    student: "นักเรียน/นักศึกษา",
    employer: "นายจ้าง",
    employerPlaceholder: "ชื่อบริษัทของคุณ",
    annualIncome: "รายได้ต่อปี (USD)",
    loanAmount: "จำนวนเงินกู้ (USD)",
    loanTerm: "ระยะเวลาเงินกู้",
    submitting: "กำลังส่ง...",
    submitApplication: "ส่งใบสมัคร",
    approved: "อนุมัติแล้ว!",
    applicationDenied: "ใบสมัครถูกปฏิเสธ",
    close: "ปิด",
    statementSummary: "สรุปใบแจ้งยอด",
    forCardEndingIn: "สำหรับบัตรที่ลงท้ายด้วย",
    statementBalance: "ยอดคงเหลือในใบแจ้งยอด",
    minimumPaymentDue: "ยอดชำระขั้นต่ำ",
    paymentDueDate: "วันครบกำหนดชำระ",
    importantInformation: "ข้อมูลสำคัญ",
    lateFeeWarning: "เพื่อหลีกเลี่ยงค่าธรรมเนียมการชำระล่าช้าสูงสุด $40 และ APR บทลงโทษ กรุณาชำระอย่างน้อยยอดขั้นต่ำภายในวันครบกำหนด",
    gotIt: "เข้าใจแล้ว",
    // Passkeys
    signInWithPasskey: "เข้าสู่ระบบด้วยพาสคีย์",
    createPasskeyForFasterSignIn: "สร้างพาสคีย์เพื่อการลงชื่อเข้าใช้ที่รวดเร็วยิ่งขึ้น",
    authenticating: "กำลังยืนยันตัวตน...",
    passkeys: "พาสคีย์",
    passkey: "พาสคีย์",
    passkeyDescription: "ใช้พาสคีย์เพื่อการลงชื่อเข้าใช้ที่รวดเร็วและปลอดภัยยิ่งขึ้นโดยไม่ต้องใช้รหัสผ่าน",
    addPasskey: "เพิ่มพาสคีย์",
    remove: "ลบ",
    createdOn: "สร้างเมื่อ",
    noPasskeys: "ไม่มีพาสคีย์ที่ลงทะเบียนสำหรับบัญชีนี้",
    passkeyLoginFailed: "การเข้าสู่ระบบด้วยพาสคีย์ล้มเหลว",
    passkeyConfirmationRequired: "ต้องการการยืนยันสำหรับ '{{action}}' กรุณาใช้พาสคีย์ของคุณเพื่อดำเนินการต่อ",
    actionCancelled: "การดำเนินการถูกยกเลิก",
    // Insights Screen
    aiPoweredInsights: "ข้อมูลเชิงลึกที่ขับเคลื่อนด้วย AI",
    aiInsightsDescription: "ค้นพบรูปแบบการใช้จ่ายของคุณและรับคำแนะนำทางการเงินส่วนบุคคลจาก Nova",
    subscriptionTracker: "เครื่องมือติดตามการสมัครสมาชิก",
    aiAnalyzingSpending: "AI กำลังวิเคราะห์การใช้จ่ายของคุณ...",
    aiAnalyzingSubscriptions: "AI กำลังวิเคราะห์ธุรกรรมของคุณเพื่อหาการชำระเงินที่เกิดขึ้นประจำ...",
    noSubscriptionsFound: "ไม่พบการสมัครสมาชิกที่เกิดขึ้นประจำในธุรกรรมล่าสุดของคุณ",
    monthly: "รายเดือน",
    spendingBreakdown: "การแบ่งประเภทค่าใช้จ่าย",
    spendingTrends: "แนวโน้มการใช้จ่าย",
    cashFlowForecast: "พยากรณ์กระแสเงินสด",
    savingOpportunities: "โอกาสในการออม",
    spendingVsLastMonth: "การใช้จ่ายทั้งหมดเทียบกับเดือนที่แล้ว",
    notEnoughData: "ข้อมูลไม่เพียงพอ",
    notEnoughDataDescription: "ใช้บัญชีของคุณสำหรับธุรกรรมเพิ่มเติมอีกเล็กน้อย แล้วกลับมาตรวจสอบข้อมูลเชิงลึกส่วนบุคคลของคุณ",
  },
  tl: {
    // Welcome/Onboarding
    carouselTitle1: "Palaguin ang iyong pera",
    carouselTitle2: "Mabilis na pagbabangko",
    carouselTitle3: "Panatilihing ligtas ang pera",
    carouselTitle4: "Nova AI, ang iyong kasama sa pananalapi",
    getStarted: "Magsimula",
    logIn: "Mag-log In",
    // Login
    appName: "Nova Bank AI",
    appSubtitle: "Ang Iyong Kasosyo sa Pinansyal na may AI",
    createAccount: "Gawin ang Iyong Account",
    fullName: "Buong Pangalan",
    fullNamePlaceholder: "hal., Juan Dela Cruz",
    username: "Username",
    usernamePlaceholder: "hal., juan",
    usernamePlaceholderLogin: "hal., alice",
    pin: "4-Digit na PIN",
    pinError: "Ang PIN ay dapat isang 4-digit na numero.",
    password: "Password",
    emailPlaceholder: "hal., juan.delacruz@email.com",
    phonePlaceholder: "hal., 0917-123-4567",
    welcomeBack: "Maligayang Pagbabalik",
    signIn: "Mag-sign In",
    loginError: "Di-wasto ang username o password. Pakisubukang muli.",
    registerError: "Pakipunan nang tama ang lahat ng kinakailangang field.",
    registerErrorUsernameTaken: "May gumagamit na ng username. Pumili ng iba.",
    navHome: "Home",
    navCards: "Mga Card",
    navLoans: "Mga Loan",
    navInsights: "Mga Insight",
    navSettings: "Mga Setting",
    openAIAssistant: "Buksan ang AI Assistant",
    applyForNew: "Mag-apply para sa bagong {{type}}",
    totalBalance: "Kabuuang Balanse",
    recentActivity: "Kamakailang Aktibidad",
    vs: "vs.",
    noTransactions: "Wala pang mga transaksyon.",
    primaryCard: "Pangunahing Card",
    savings: "Ipon",
    investments: "Pamumuhunan",
    cards: "Mga Card",
    loans: "Mga Loan",
    spendingThisMonth: "Gastusin sa Huling 30 Araw",
    yourCards: "Iyong Mga Card",
    viewSummary: "Tingnan ang Buod",
    transactionHistory: "Kasaysayan ng Transaksyon",
    last7Days: "Huling 7 Araw",
    last30Days: "Huling 30 Araw",
    thisMonth: "Ngayong Buwan",
    noTransactionsPeriod: "Walang nakitang transaksyon para sa panahong ito.",
    creditUsage: "Paggamit ng Credit",
    dataAnalytics: "Pagsusuri ng Datos",
    noSpendingData: "Walang data ng gastusin para sa buwang ito.",
    yourLoans: "Iyong Mga Loan",
    forTerm: "para sa",
    months: "buwan",
    monthlyPayment: "Buwanang Bayad",
    remaining: "Natitira",
    nextPayment: "Susunod na bayad",
    noActiveLoans: "Walang aktibong mga loan.",
    applyForLoanHint: "Mag-apply gamit ang button sa sulok!",
    language: "Wika",
    signOut: "Mag-sign Out",
    aiAssistant: "Nova AI",
    chatGreeting: "Hi {{name}}! Paano ako makakatulong?",
    chatError: "Paumanhin, nagkaroon ng error. Pakisubukang muli.",
    listening: "Nakikinig...",
    askNova: "Tanungin si Nova ng kahit ano...",
    takePhoto: "Kumuha ng Litrato",
    uploadImage: "Mag-upload ng Imahe",
    analyzingImage: "Sinusuri ang imahe...",
    ocrSuccess: "Nakuha mula sa imahe: Nagbabayad ng {{amount}} kay {{recipient}}. Sinasimulan ang paglipat...",
    ocrFailed: "Hindi makuha ang mga detalye ng tatanggap at account mula sa imahe. Paki-enter nang manu-mano.",
    ocrError: "Paumanhin, nagkaroon ng error habang sinusuri ang imahe. Pakisubukang muli.",
    ocrPaymentPrompt: "Bayaran ng {{amount}} si {{recipient}}",
    suggestivePromptsTitle: "Subukang itanong...",
    prompt1: "Magkano ang ginastos ko sa groceries ngayong buwan?",
    prompt2: "Maaari ba akong humingi ng extension sa aking credit card bill?",
    prompt3: "Ano ang kasalukuyang balanse ng aking account?",
    prompt4: "Maglipat ng $50 kay Alice",
    voiceMode: "Voice Mode",
    connecting: "Kumokonekta...",
    speakNow: "Magsalita na...",
    processing: "Pinoproseso...",
    pressToTalk: "Pindutin nang matagal para magsalita",
    voiceError: "Hindi masimulan ang voice mode. Pakisubukang muli.",
    micAccessDenied: "Pinagbawalan ang access sa mikropono. Paki-enable ito sa mga setting ng browser para magamit ang voice mode.",
    newApplication: "Bagong Aplikasyon para sa {{type}}",
    pleaseNote: "Pakitandaan:",
    repAPR: "Representative APR",
    cardAPRNote: "15.0% - 30.0% variable. Ang iyong aktwal na rate ay batay sa iyong aplikasyon at kasaysayan ng credit.",
    cardType: "Uri ng Card",
    interestRates: "Mga Rate ng Interes",
    loanAPRNote: "Mula 3.0% - 13.0% APR. Ang iyong aktwal na rate ay depende sa halaga ng loan, termino, at mga detalye ng iyong aplikasyon.",
    address: "Buong Tirahan",
    addressPlaceholder: "hal., 123 Main St, Lungsod, Bansa",
    dateOfBirth: "Araw ng Kapanganakan",
    employmentStatus: "Katayuan sa Trabaho",
    employed: "May Trabaho",
    selfEmployed: "Self-Employed",
    unemployed: "Walang Trabaho",
    student: "Estudyante",
    employer: "Employer",
    employerPlaceholder: "Pangalan ng iyong kumpanya",
    annualIncome: "Taunang Kita (USD)",
    loanAmount: "Halaga ng Loan (USD)",
    loanTerm: "Termino ng Loan",
    submitting: "Ipinapasa...",
    submitApplication: "Ipasa ang Aplikasyon",
    approved: "Aprubado!",
    applicationDenied: "Tinatanggihan ang Aplikasyon",
    close: "Isara",
    statementSummary: "Buod ng Statement",
    forCardEndingIn: "Para sa card na nagtatapos sa",
    statementBalance: "Balanse ng Statement",
    minimumPaymentDue: "Minimum na Bayad",
    paymentDueDate: "Petsa ng Pagbabayad",
    importantInformation: "Mahalagang Impormasyon",
    lateFeeWarning: "Upang maiwasan ang late fee na hanggang $40 at penalty APR, mangyaring bayaran kahit man lang ang minimum na halaga bago ang takdang petsa.",
    gotIt: "Nakuha ko",
    // Passkeys
    signInWithPasskey: "Mag-sign In gamit ang Passkey",
    createPasskeyForFasterSignIn: "Gumawa ng passkey para sa mas mabilis na pag-sign in",
    authenticating: "Nagpapatunay...",
    passkeys: "Mga Passkey",
    passkey: "Passkey",
    passkeyDescription: "Gumamit ng mga passkey para sa mas mabilis at mas secure na karanasan sa pag-sign in nang hindi nangangailangan ng password.",
    addPasskey: "Magdagdag ng passkey",
    remove: "Alisin",
    createdOn: "Ginawa noong",
    noPasskeys: "Walang mga passkey na nakarehistro para sa account na ito.",
    passkeyLoginFailed: "Nabigo ang pag-login gamit ang passkey.",
    passkeyConfirmationRequired: "Kinakailangan ng kumpirmasyon para sa '{{action}}'. Mangyaring gamitin ang iyong passkey para magpatuloy.",
    actionCancelled: "Kinansela ang pagkilos.",
     // Insights Screen
    aiPoweredInsights: "Mga Insight na Pinapagana ng AI",
    aiInsightsDescription: "Tuklasin ang mga pattern sa iyong paggasta at makakuha ng personalized na payo sa pananalapi mula sa Nova.",
    subscriptionTracker: "Tagasubaybay ng Subscription",
    aiAnalyzingSpending: "Sinusuri ng AI ang iyong mga gastusin...",
    aiAnalyzingSubscriptions: "Sinusuri ng AI ang iyong mga transaksyon para sa mga umuulit na pagbabayad...",
    noSubscriptionsFound: "Walang nakitang umuulit na subscription sa iyong mga kamakailang transaksyon.",
    monthly: "buwanan",
    spendingBreakdown: "Breakdown ng Gastusin",
    spendingTrends: "Mga Trend sa Paggasta",
    cashFlowForecast: "Pagtataya ng Cash Flow",
    savingOpportunities: "Mga Oportunidad sa Pag-iimpok",
    spendingVsLastMonth: "Kabuuang gastusin vs. nakaraang buwan",
    notEnoughData: "Hindi Sapat ang Datos",
    notEnoughDataDescription: "Gamitin ang iyong account para sa ilang higit pang mga transaksyon at bumalik para sa iyong personalized na mga insight.",
  }
};

type Language = 'en' | 'es' | 'th' | 'tl';

interface LanguageContextType {
  language: Language;
  setLanguage: (language: Language) => void;
  t: (key: keyof typeof translations.en, options?: Record<string, string>) => string;
}

const LanguageContext = createContext<LanguageContextType>(null!);

const getInitialLanguage = (): Language => {
    const savedLang = localStorage.getItem('gemini-bank-lang');
    return (savedLang === 'en' || savedLang === 'es' || savedLang === 'th' || savedLang === 'tl') ? savedLang : 'en';
};

// FIX: Used `PropsWithChildren` to correctly type the `children` prop, resolving a type error where children were not being recognized.
export const LanguageProvider = ({ children }: PropsWithChildren) => {
  const [language, setLanguageState] = useState<Language>(getInitialLanguage);

  useEffect(() => {
    localStorage.setItem('gemini-bank-lang', language);
  }, [language]);

  const setLanguage = (lang: Language) => {
    setLanguageState(lang);
  };

  const t = (key: keyof typeof translations.en, options: Record<string, string> = {}) => {
    let text = translations[language]?.[key] || translations.en[key];
    Object.keys(options).forEach(optionKey => {
        const regex = new RegExp(`{{${optionKey}}}`, 'g');
        text = text.replace(regex, options[optionKey]);
    });
    return text;
  };

  // FIX: Replaced JSX with React.createElement to allow its use within a .ts file, resolving parsing errors.
  return React.createElement(LanguageContext.Provider, { value: { language, setLanguage, t } }, children);
};

export const useTranslation = () => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useTranslation must be used within a LanguageProvider');
  }
  return context;
};